$breakpoints: (
  'default': 0,
  'xs': 320px,
  's': 480px,
  'm': 768px,
  'l': 1024px,
  'xl': 1280px,
  '2xl': 1536px,
  'nav': 1050px,
) !default;

/// Get breakpoint value from map or return the value if it's a number
/// @param {String|Number} $value - Breakpoint name or numeric value
/// @return {Number} - Breakpoint value in pixels
@function get-breakpoint-value($value) {
  @if map-has-key($breakpoints, $value) {
    @return map-get($breakpoints, $value);
  } @else if (type-of($value) == number) {
    @return $value;
  } @else {
    @error "Invalid breakpoint value: #{$value}";
  }
}

/// Versatile breakpoint mixin supporting min, max, and range queries
///
/// @param {String|Number} $from - Starting breakpoint (name or value)
/// @param {String|Number} $to [null] - Ending breakpoint for range queries, or 'min'/'max' for direction
///
/// @example scss - Min-width (default, backwards compatible)
///   @include breakpoint('m') { ... }
///   // Output: @media (min-width: 768px) { ... }
///
/// @example scss - Max-width
///   @include breakpoint('m', 'max') { ... }
///   // Output: @media (max-width: 767.98px) { ... }
///
/// @example scss - Range between two breakpoints
///   @include breakpoint('m', 'xl') { ... }
///   // Output: @media (min-width: 768px) and (max-width: 1279.98px) { ... }
///
/// @example scss - Custom numeric values
///   @include breakpoint(500px, 900px) { ... }
///   // Output: @media (min-width: 500px) and (max-width: 899.98px) { ... }
@function get-breakpoint-max($value) {
  $resolved: get-breakpoint-value($value);
  @return calc(#{$resolved} - 0.02px);
}

@mixin breakpoint($from, $to: null) {
  $from-value: get-breakpoint-value($from);

  // Max-width query
  @if $to == 'max' {
    @media (max-width: #{get-breakpoint-max($from-value)}) {
      @content;
    }
  }
  // Explicit min-width query
  @else if $to == 'min' or $to == null {
    @media (min-width: #{$from-value}) {
      @content;
    }
  }
  // Range query (between two breakpoints)
  @else {
    $to-value: get-breakpoint-value($to);
    @media (min-width: #{$from-value}) and (max-width: #{get-breakpoint-max($to-value)}) {
      @content;
    }
  }
}

/// Additional utility mixins for specific use cases

/// Max-width only (explicit naming for clarity)
/// @example scss
///   @include breakpoint-max('l') { ... }
@mixin breakpoint-max($breakpoint) {
  @include breakpoint($breakpoint, 'max');
}

/// Min-width only (explicit naming for clarity)
/// @example scss
///   @include breakpoint-min('m') { ... }
@mixin breakpoint-min($breakpoint) {
  @include breakpoint($breakpoint, 'min');
}

/// Between two breakpoints (explicit naming for clarity)
/// @example scss
///   @include breakpoint-between('m', 'xl') { ... }
@mixin breakpoint-between($from, $to) {
  @include breakpoint($from, $to);
}
